<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Development · Trixi.jl</title><meta name="title" content="Development · Trixi.jl"/><meta property="og:title" content="Development · Trixi.jl"/><meta property="twitter:title" content="Development · Trixi.jl"/><meta name="description" content="Documentation for Trixi.jl."/><meta property="og:description" content="Documentation for Trixi.jl."/><meta property="twitter:description" content="Documentation for Trixi.jl."/><meta property="og:url" content="https://trixi-framework.github.io/Trixi.jl/stable/development/"/><meta property="twitter:url" content="https://trixi-framework.github.io/Trixi.jl/stable/development/"/><link rel="canonical" href="https://trixi-framework.github.io/Trixi.jl/stable/development/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Trixi.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Getting started</span><ul><li><a class="tocitem" href="../overview/">Overview</a></li><li><a class="tocitem" href="../visualization/">Visualization</a></li><li><a class="tocitem" href="../restart/">Restart simulation</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/introduction/">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">1 First steps in Trixi.jl</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../tutorials/first_steps/getting_started/">1.1 Getting started</a></li><li><a class="tocitem" href="../tutorials/first_steps/create_first_setup/">1.2 Create first setup</a></li><li><a class="tocitem" href="../tutorials/first_steps/changing_trixi/">1.3 Changing Trixi.jl itself</a></li></ul></li><li><a class="tocitem" href="../tutorials/behind_the_scenes_simulation_setup/">2 Behind the scenes of a simulation setup</a></li><li><a class="tocitem" href="../tutorials/scalar_linear_advection_1d/">3 Introduction to DG methods</a></li><li><a class="tocitem" href="../tutorials/DGSEM_FluxDiff/">4 DGSEM with flux differencing</a></li><li><a class="tocitem" href="../tutorials/shock_capturing/">5 Shock capturing with flux differencing and stage limiter</a></li><li><a class="tocitem" href="../tutorials/non_periodic_boundaries/">6 Non-periodic boundaries</a></li><li><a class="tocitem" href="../tutorials/DGMulti_1/">7 DG schemes via <code>DGMulti</code> solver</a></li><li><a class="tocitem" href="../tutorials/DGMulti_2/">8 Other SBP schemes (FD, CGSEM) via <code>DGMulti</code> solver</a></li><li><a class="tocitem" href="../tutorials/upwind_fdsbp/">9 Upwind FD SBP schemes</a></li><li><a class="tocitem" href="../tutorials/adding_new_scalar_equations/">10 Adding a new scalar conservation law</a></li><li><a class="tocitem" href="../tutorials/adding_nonconservative_equation/">11 Adding a non-conservative equation</a></li><li><a class="tocitem" href="../tutorials/parabolic_terms/">12 Parabolic terms</a></li><li><a class="tocitem" href="../tutorials/adding_new_parabolic_terms/">13 Adding new parabolic terms</a></li><li><a class="tocitem" href="../tutorials/adaptive_mesh_refinement/">14 Adaptive mesh refinement</a></li><li><a class="tocitem" href="../tutorials/structured_mesh_mapping/">15 Structured mesh with curvilinear mapping</a></li><li><a class="tocitem" href="../tutorials/hohqmesh_tutorial/">16 Unstructured meshes with HOHQMesh.jl</a></li><li><a class="tocitem" href="../tutorials/p4est_from_gmsh/">17 P4est mesh from gmsh</a></li><li><a class="tocitem" href="../tutorials/time_stepping/">18 Explicit time stepping</a></li><li><a class="tocitem" href="../tutorials/differentiable_programming/">19 Differentiable programming</a></li><li><a class="tocitem" href="../tutorials/custom_semidiscretization/">20 Custom semidiscretizations</a></li></ul></li><li><span class="tocitem">Basic building blocks</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Meshes</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../meshes/tree_mesh/">Tree mesh</a></li><li><a class="tocitem" href="../meshes/structured_mesh/">Structured mesh</a></li><li><a class="tocitem" href="../meshes/unstructured_quad_mesh/">Unstructured mesh</a></li><li><a class="tocitem" href="../meshes/p4est_mesh/">P4est-based mesh</a></li><li><a class="tocitem" href="../meshes/dgmulti_mesh/">DGMulti mesh</a></li></ul></li><li><a class="tocitem" href="../time_integration/">Time integration</a></li><li><a class="tocitem" href="../callbacks/">Callbacks</a></li><li><a class="tocitem" href="../multi-physics_coupling/">Coupling</a></li></ul></li><li><span class="tocitem">Advanced topics &amp; developers</span><ul><li><a class="tocitem" href="../conventions/">Conventions</a></li><li class="is-active"><a class="tocitem" href>Development</a><ul class="internal"><li><a class="tocitem" href="#interactive-use-of-julia"><span>Interactive use of Julia</span></a></li><li><a class="tocitem" href="#Using-the-Julia-REPL-effectively"><span>Using the Julia REPL effectively</span></a></li><li><a class="tocitem" href="#Text-editors"><span>Text editors</span></a></li><li><a class="tocitem" href="#Debugging"><span>Debugging</span></a></li><li><a class="tocitem" href="#Releasing-a-new-version-of-Trixi.jl,-Trixi2Vtk"><span>Releasing a new version of Trixi.jl, Trixi2Vtk</span></a></li><li><a class="tocitem" href="#Preview-of-the-documentation"><span>Preview of the documentation</span></a></li><li><a class="tocitem" href="#trixi2vtk-dev"><span>Developing Trixi2Vtk</span></a></li></ul></li><li><a class="tocitem" href="../github-git/">GitHub &amp; Git</a></li><li><a class="tocitem" href="../styleguide/">Style guide</a></li><li><a class="tocitem" href="../testing/">Testing</a></li><li><a class="tocitem" href="../performance/">Performance</a></li><li><a class="tocitem" href="../parallelization/">Parallelization</a></li></ul></li><li><a class="tocitem" href="../troubleshooting/">Troubleshooting and FAQ</a></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../reference-trixi/">Trixi.jl</a></li><li><a class="tocitem" href="../reference-trixibase/">TrixiBase.jl</a></li><li><a class="tocitem" href="../reference-trixi2vtk/">Trixi2Vtk.jl</a></li></ul></li><li><a class="tocitem" href="../authors/">Authors</a></li><li><a class="tocitem" href="../contributing/">Contributing</a></li><li><a class="tocitem" href="../code_of_conduct/">Code of Conduct</a></li><li><a class="tocitem" href="../license/">License</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Advanced topics &amp; developers</a></li><li class="is-active"><a href>Development</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Development</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/trixi-framework/Trixi.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/trixi-framework/Trixi.jl/blob/main/docs/src/development.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Development"><a class="docs-heading-anchor" href="#Development">Development</a><a id="Development-1"></a><a class="docs-heading-anchor-permalink" href="#Development" title="Permalink"></a></h1><h2 id="interactive-use-of-julia"><a class="docs-heading-anchor" href="#interactive-use-of-julia">Interactive use of Julia</a><a id="interactive-use-of-julia-1"></a><a class="docs-heading-anchor-permalink" href="#interactive-use-of-julia" title="Permalink"></a></h2><p>When a Julia program is executed, Julia first loads and parses all code. Then, the just-in-time compiler has to compile all functions at their first use, which incurs an overhead each time a program is run. For proper packages and commands executed in the REPL (= &quot;return-eval-print loop&quot;, which is what the Julia community calls the interactive command-line prompt that opens when executing <code>julia</code> without any files as arguments), however, the previously compiled functions are cached. Therefore, Trixi.jl should generally always be used interactively from the REPL without closing Julia during development, as it allows much faster turnaround times.</p><p>If you naively run Trixi.jl from the REPL, you will not be able to change your Trixi.jl source files and then run the changed code without restarting the REPL, which destroys any potential benefits from caching. However, restarting Julia can be avoided by using the <a href="https://github.com/timholy/Revise.jl">Revise.jl</a> package, which tracks changed files and re-loads them automatically. Therefore, it is <em>highly recommended</em> to first install Revise with the following command in Julia: To enter the package REPL mode, press <code>]</code> in the standard Julia REPL mode. Then, execute</p><pre><code class="language-julia-repl hljs">(@v1.9) pkg&gt; add Revise</code></pre><p>Now you are able to run Trixi.jl from the REPL, change Trixi.jl code between runs, <strong>and</strong> enjoy the advantages of the compilation cache! Before you start using Revise regularly, please be aware of some of the <a href="#Pitfalls-when-using-Revise">Pitfalls when using Revise</a>.</p><p>Another recommended package for working from the REPL is <a href="https://github.com/KristofferC/OhMyREPL.jl">OhMyREPL.jl</a>. It can be installed by running</p><pre><code class="language-julia-repl hljs">(@v1.9) pkg&gt; add OhMyREPL</code></pre><p>and adds syntax highlighting, bracket highlighting, and other helpful improvements for using Julia interactively. To automatically use OhMyREPL when starting the REPL, follow the instructions given in the official <a href="https://kristofferc.github.io/OhMyREPL.jl/latest/">documentation</a>.</p><h3 id="Running-Trixi.jl-interactively-in-the-global-environment"><a class="docs-heading-anchor" href="#Running-Trixi.jl-interactively-in-the-global-environment">Running Trixi.jl interactively in the global environment</a><a id="Running-Trixi.jl-interactively-in-the-global-environment-1"></a><a class="docs-heading-anchor-permalink" href="#Running-Trixi.jl-interactively-in-the-global-environment" title="Permalink"></a></h3><p>If you&#39;ve installed Trixi.jl and Revise in your default environment, begin by executing:</p><pre><code class="language-bash hljs">julia</code></pre><p>This will start the Julia REPL. Then, run</p><pre><code class="language-julia-repl hljs">julia&gt; using Revise; using Trixi</code></pre><p>You can run a simulation by executing</p><pre><code class="language-julia-repl hljs">julia&gt; trixi_include(default_example())</code></pre><p>Together, all of these commands can take some time, roughly half a minute on a modern workstation. Most of the time is spent on compilation of Julia code etc. If you execute the last command again in the same REPL, it will finish within a few milliseconds (maybe ~45 on a modern workstation).  This demonstrates the second reason for using the REPL: the compilation cache.  That is, those parts of the code that do not change between two Trixi.jl runs do not need to be recompiled and thus execute much faster after the first run.</p><h3 id="Manually-starting-Trixi.jl-in-the-local-environment"><a class="docs-heading-anchor" href="#Manually-starting-Trixi.jl-in-the-local-environment">Manually starting Trixi.jl in the local environment</a><a id="Manually-starting-Trixi.jl-in-the-local-environment-1"></a><a class="docs-heading-anchor-permalink" href="#Manually-starting-Trixi.jl-in-the-local-environment" title="Permalink"></a></h3><p>If you followed the <a href="../#for-developers">installation instructions for developers</a>, execute Julia with the project directory set to the <code>run</code> directory of the program/tool you want to use. For example, to run Trixi.jl this way, you need to start the REPL with</p><pre><code class="language-bash hljs">julia --project=path/to/Trixi.jl/run</code></pre><p>and execute</p><pre><code class="language-julia-repl hljs">julia&gt; using Revise; using Trixi</code></pre><p>to load Revise and Trixi.jl. You can then proceed with the usual commands and run Trixi.jl as in the example <a href="#Running-Trixi-interactively-in-the-global-environment-1">above</a>. The <code>--project</code> flag is required such that Julia can properly load Trixi.jl and all dependencies if Trixi.jl is not installed in the global environment. The same procedure also applies should you opt to install the postprocessing tool <a href="https://github.com/trixi-framework/Trixi2Vtk.jl">Trixi2Vtk</a> manually such that you can modify their implementations.</p><h3 id="Pitfalls-when-using-Revise"><a class="docs-heading-anchor" href="#Pitfalls-when-using-Revise">Pitfalls when using Revise</a><a id="Pitfalls-when-using-Revise-1"></a><a class="docs-heading-anchor-permalink" href="#Pitfalls-when-using-Revise" title="Permalink"></a></h3><p>While Revise is a great help for developing Julia code, there are a few situations to watch out for when using Revise. The following list of potential issues is based on personal experiences of the Trixi.jl developers and probably incomplete.  Further information on limitations and possible issues with Revise can be found in the official <a href="https://timholy.github.io/Revise.jl/stable/">documentation</a>.</p><div class="admonition is-success"><header class="admonition-header">If in doubt, restart the REPL</header><div class="admonition-body"><p>Oftentimes, it is possible to recover from issues with Revise by fixing the offending code. Sometimes, however, this is not possible or you might have troubles finding out what exactly caused the problems. Therefore, in these cases, or if in doubt, restart the REPL to get a fresh start.</p></div></div><h4 id="Syntax-errors-are-easy-to-miss"><a class="docs-heading-anchor" href="#Syntax-errors-are-easy-to-miss">Syntax errors are easy to miss</a><a id="Syntax-errors-are-easy-to-miss-1"></a><a class="docs-heading-anchor-permalink" href="#Syntax-errors-are-easy-to-miss" title="Permalink"></a></h4><p>Revise does not stop on syntax errors, e.g., when you accidentally write <code>a[i)</code> instead of <code>a[i]</code>.  In this case, Revise reports an error but <strong>continues to use the old version of your files</strong>! This is especially dangerous for syntax errors, as they are detected while Revise reloads changed code, which happens in the beginning of a new execution. Thus, the syntax error message quickly disappears from the terminal once Trixi.jl starts writing output to the screen and you might not even have noticed that an error occurred at all.</p><p>Therefore, when you are deep in a coding/debugging session and wonder why your code modifications do not seem to have any effect, scroll up in your terminal to check if you missed earlier syntax errors, or - if in doubt - restart your REPL.</p><h4 id="Files-are-not-tracked-after-changing-branches"><a class="docs-heading-anchor" href="#Files-are-not-tracked-after-changing-branches">Files are not tracked after changing branches</a><a id="Files-are-not-tracked-after-changing-branches-1"></a><a class="docs-heading-anchor-permalink" href="#Files-are-not-tracked-after-changing-branches" title="Permalink"></a></h4><p>Sometimes, Revise stops tracking files when changing the Git branch. That is, modifications to Trixi.jl&#39;s source files will not be reloaded by Revise and thus have no effect of a currently running REPL session. This issue is particularly annoying for a developer, since it <strong>does not come with any warning</strong>!  Therefore, it is good practice to always restart the REPL after changing branches.</p><h4 id="Changes-to-type-definitions-are-not-allowed"><a class="docs-heading-anchor" href="#Changes-to-type-definitions-are-not-allowed">Changes to type definitions are not allowed</a><a id="Changes-to-type-definitions-are-not-allowed-1"></a><a class="docs-heading-anchor-permalink" href="#Changes-to-type-definitions-are-not-allowed" title="Permalink"></a></h4><p>Revise cannot handle changes to type definitions, e.g., when modifying the fields in a <code>struct</code>. In this case, Revise reports an error and refuses to run your code unless you undo the modifications. Once you undo the changes, Revise will usually continue to work as expected again. However, if you want to keep your type modifications, you need to restart the REPL.</p><h2 id="Using-the-Julia-REPL-effectively"><a class="docs-heading-anchor" href="#Using-the-Julia-REPL-effectively">Using the Julia REPL effectively</a><a id="Using-the-Julia-REPL-effectively-1"></a><a class="docs-heading-anchor-permalink" href="#Using-the-Julia-REPL-effectively" title="Permalink"></a></h2><p>The <a href="https://docs.julialang.org/en/v1/manual/getting-started/">Julia manual</a> is an excellent resource to learn Julia. Here, we list some helpful commands than can increase your productivity in the Julia REPL.</p><ul><li><p>Use the <a href="https://docs.julialang.org/en/v1/stdlib/REPL/#Help-mode">REPL help mode</a> entered by typing <code>?</code>.</p><pre><code class="language-julia-repl hljs">julia&gt; using Trixi

help?&gt; trixi_include
search: trixi_include

  trixi_include([mod::Module=Main,] elixir::AbstractString; kwargs...)

  include the file elixir and evaluate its content in the global scope of module mod. You can override specific
  assignments in elixir by supplying keyword arguments. It&#39;s basic purpose is to make it easier to modify some
  parameters while running Trixi.jl from the REPL. Additionally, this is used in tests to reduce the computational
  burden for CI while still providing examples with sensible default values for users.

  Examples
  ≡≡≡≡≡≡≡≡≡≡

  julia&gt; trixi_include(@__MODULE__, default_example(), tspan=(0.0, 0.1))
  [...]

  julia&gt; sol.t[end]
  0.1</code></pre></li><li><p>You can copy and paste REPL history including <code>julia&gt;</code> prompts into the REPL.</p></li><li><p>Use tab completion in the REPL, both for names of functions/types/variables and for function arguments.</p><pre><code class="language-julia-repl hljs">julia&gt; flux_ranocha( # and TAB
flux_ranocha(u_ll, u_rr, orientation::Integer, equations::CompressibleEulerEquations1D) in Trixi at ~/.julia/dev/Trixi/src/equations/compressible_euler_1d.jl:390
flux_ranocha(u_ll, u_rr, orientation::Integer, equations::CompressibleEulerEquations2D) in Trixi at ~/.julia/dev/Trixi/src/equations/compressible_euler_2d.jl:839
[...]</code></pre></li><li><p>Use <code>methodswith</code> to discover methods associated to a given type etc.</p><pre><code class="language-julia-repl hljs">julia&gt; methodswith(CompressibleEulerEquations2D)
[1] initial_condition_convergence_test(x, t, equations::CompressibleEulerEquations2D) in Trixi at ~/.julia/dev/Trixi/src/equations/compressible_euler_2d.jl:51
[...]</code></pre></li><li><p>Use <code>@which</code> (or <code>@edit</code>) for method calls.</p><pre><code class="language-julia-repl hljs">julia&gt; @which trixi_include(default_example())
trixi_include(elixir::AbstractString; kwargs...) in Trixi at ~/.julia/dev/Trixi/src/auxiliary/special_elixirs.jl:36</code></pre></li><li><p>Use <code>apropos</code> to search through the documentation and docstrings.</p><pre><code class="language-julia-repl hljs">julia&gt; apropos(&quot;MHD&quot;)
Trixi.IdealGlmMhdEquations3D
Trixi.IdealGlmMhdMulticomponentEquations2D
Trixi.calc_fast_wavespeed_roe
Trixi.IdealGlmMhdEquations1D
Trixi.initial_condition_constant
Trixi.flux_nonconservative_powell
Trixi.GlmSpeedCallback
Trixi.flux_derigs_etal
Trixi.flux_hindenlang_gassner
Trixi.initial_condition_convergence_test
Trixi.min_max_speed_naive
Trixi.IdealGlmMhdEquations2D
Trixi.IdealGlmMhdMulticomponentEquations1D
[...]</code></pre></li></ul><h2 id="Text-editors"><a class="docs-heading-anchor" href="#Text-editors">Text editors</a><a id="Text-editors-1"></a><a class="docs-heading-anchor-permalink" href="#Text-editors" title="Permalink"></a></h2><p>When writing code, the choice of text editor can have a significant impact on productivity and developer satisfaction. While using the default text editor of the operating system has its own benefits (specifically the lack of an explicit installation procure), usually it makes sense to switch to a more programming-friendly tool. In the following, a few of the many options are listed and discussed:</p><h3 id="VS-Code"><a class="docs-heading-anchor" href="#VS-Code">VS Code</a><a id="VS-Code-1"></a><a class="docs-heading-anchor-permalink" href="#VS-Code" title="Permalink"></a></h3><p><a href="https://code.visualstudio.com/">Visual Studio Code</a> is a modern open source editor with <a href="https://github.com/julia-vscode/julia-vscode">good support for Julia</a>. While <a href="#Juno">Juno</a> had some better support in the past, the developers of Juno and the Julia VS Code plugin are joining forces and concentrating on VS Code since support of Atom has been suspended. Basically, all comments on <a href="#Juno">Juno</a> below also apply to VS Code.</p><h3 id="Juno"><a class="docs-heading-anchor" href="#Juno">Juno</a><a id="Juno-1"></a><a class="docs-heading-anchor-permalink" href="#Juno" title="Permalink"></a></h3><p>If you are new to programming or do not have a preference for a text editor yet, <a href="https://junolab.org">Juno</a> is a good choice for developing Julia code. It is based on <em>Atom</em>, a sophisticated and widely used editor for software developers, and is enhanced with several Julia-specific features. Furthermore and especially helpful for novice programmers, it has a MATLAB-like appearance with easy and interactive access to the current variables, the help system, and a debugger.</p><h3 id="Vim-or-Emacs"><a class="docs-heading-anchor" href="#Vim-or-Emacs">Vim or Emacs</a><a id="Vim-or-Emacs-1"></a><a class="docs-heading-anchor-permalink" href="#Vim-or-Emacs" title="Permalink"></a></h3><p>Vim and Emacs are both very popular editors that work great with Julia. One of their advantages is that they are text editors without a GUI and as such are available for almost any operating system. They also are preinstalled on virtually all Unix-like systems.  However, Vim and Emacs come with their own, steep learning curve if they have never been used before. Therefore, if in doubt, it is probably easier to get started with a classic GUI-based text editor (like Juno). If you decide to use Vim or Emacs, make sure that you install the corresponding Vim plugin <a href="https://github.com/JuliaEditorSupport/julia-vim">julia-vim</a> or Emacs major mode <a href="https://github.com/JuliaEditorSupport/julia-emacs">julia-emacs</a>.</p><h2 id="Debugging"><a class="docs-heading-anchor" href="#Debugging">Debugging</a><a id="Debugging-1"></a><a class="docs-heading-anchor-permalink" href="#Debugging" title="Permalink"></a></h2><p>Julia offers several options for debugging. A classical debugger is available with the <a href="https://github.com/JuliaDebug/Debugger.jl">Debugger.jl</a> package or in the <a href="https://www.julia-vscode.org/docs/stable/userguide/debugging/">Julia extension for VS Code</a>. However, it can be quite slow and, at the time of writing (January 2023), currently does not work properly with Trixi.jl. The <a href="https://github.com/JuliaDebug/Infiltrator.jl">Infiltrator.jl</a> package on the other hand does not offer all features of a full debugger, but is a fast and simple tool that allows users to set breakpoints to open a local REPL session and access the call stack and variables.</p><h3 id="Infiltrator"><a class="docs-heading-anchor" href="#Infiltrator">Infiltrator</a><a id="Infiltrator-1"></a><a class="docs-heading-anchor-permalink" href="#Infiltrator" title="Permalink"></a></h3><p>The Infiltrator package provides fast, interactive breakpoints using the <code>@infiltrate</code> command, which drops the user into a local REPL session. From there, it is possible to access local variables, see the call stack, and execute statements.</p><p>The package can be installed in the Julia REPL by executing</p><pre><code class="language-julia-repl hljs">(@v1.9) pkg&gt; add Infiltrator</code></pre><p>To load the package in the Julia REPL execute</p><pre><code class="language-julia-repl hljs">julia&gt; using Infiltrator</code></pre><p>Breakpoints can be set by adding a line with the <code>@infiltrate</code> macro at the respective position in the code. Use <a href="#interactive-use-of-julia">Revise</a> if you want to set and delete breakpoints in your package without having to restart Julia.</p><div class="admonition is-info"><header class="admonition-header">Use `@autoinfiltrate` when debugging Trixi.jl</header><div class="admonition-body"><p>When running Julia inside a package environment, e.g., inside the source code of Trixi.jl itself, the <code>@infiltrate</code> macro only works if <code>Infiltrator</code> has been added to the package dependencies. To avoid this, you can use the (non-exported) <code>@autoinfiltrate</code> macro in Trixi.jl, which only requires Infiltrator.jl to be available in the current environment stack and will auto-load it for you.</p></div></div><p>Triggering the breakpoint starts a REPL session where it is possible to interact with the current local scope. Possible commands are:</p><ul><li><code>@locals</code>: Print the local variables.</li><li><code>@exfiltrate</code>: Save the local variables to a global storage, which can be accessed with the <code>safehouse</code> variable outside the Infiltrator session.</li><li><code>@trace</code>: Print the current stack trace.</li><li>Execute other arbitrary statements</li><li><code>?</code>: Print a help list with all options</li></ul><p>To finish a debugging session, either use <code>@continue</code> to continue and eventually stop at the next breakpoint or <code>@exit</code> to skip further breakpoints. After the code has finished, local variables saved with <code>@exfiltrate</code> can be accessed in the REPL using the <code>safehouse</code> variable.</p><p>Limitations of using Infiltrator.jl are that local variables cannot be changed, and that it is not possible to step into further calls or access other function scopes.</p><h2 id="Releasing-a-new-version-of-Trixi.jl,-Trixi2Vtk"><a class="docs-heading-anchor" href="#Releasing-a-new-version-of-Trixi.jl,-Trixi2Vtk">Releasing a new version of Trixi.jl, Trixi2Vtk</a><a id="Releasing-a-new-version-of-Trixi.jl,-Trixi2Vtk-1"></a><a class="docs-heading-anchor-permalink" href="#Releasing-a-new-version-of-Trixi.jl,-Trixi2Vtk" title="Permalink"></a></h2><ul><li><p>Check whether everything is okay, tests pass etc.</p></li><li><p>Set the new version number in <code>Project.toml</code> according to the Julian version of semver. Commit and push.</p></li><li><p>Comment <code>@JuliaRegistrator register</code> on the commit setting the version number.</p></li><li><p><code>JuliaRegistrator</code> will create a PR with the new version in the General registry. Wait for it to be merged.</p></li><li><p>Increment the version number in <code>Project.toml</code> again with suffix <code>-pre</code>. For example, if you have released version <code>v0.2.0</code>, use <code>v0.2.1-pre</code> as new version number.</p></li><li><p>When a new version of Trixi.jl was released, check whether the <code>[compat]</code> entries in <code>test/Project.toml</code> in Trixi2Vtk should be updated. When a new version of Trixi2Vtk was released, check whether the <code>[compat]</code> entries in <code>docs/Project.toml</code> in Trixi.jl should be updated.</p><p>These entries will also be checked regularly by CompatHelper (once a day). Hence, if everything was released correctly, you should only need to do these checks manually if new minor versions with changes in the docs of Trixi2Vtk were released but no new version of Trixi.jl was released afterwards.</p></li></ul><h2 id="Preview-of-the-documentation"><a class="docs-heading-anchor" href="#Preview-of-the-documentation">Preview of the documentation</a><a id="Preview-of-the-documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Preview-of-the-documentation" title="Permalink"></a></h2><p>You can build the documentation of Trixi.jl locally by running</p><pre><code class="language-bash hljs">julia --project=docs -e &#39;using Pkg; Pkg.develop(PackageSpec(path=pwd())); Pkg.instantiate()&#39;
julia --project=docs --color=yes docs/make.jl</code></pre><p>from the Trixi.jl main directory. Then, you can look at the html files generated in <code>docs/build</code>. For PRs triggered from branches inside the Trixi.jl main repository previews of the new documentation are generated at <code>https://trixi-framework.github.io/Trixi.jl/previews/PRXXX</code>, where <code>XXX</code> is the number of the PR. This does not work for PRs from forks for security reasons (since anyone could otherwise push arbitrary stuff to the Trixi.jl website, including malicious code).</p><h2 id="trixi2vtk-dev"><a class="docs-heading-anchor" href="#trixi2vtk-dev">Developing Trixi2Vtk</a><a id="trixi2vtk-dev-1"></a><a class="docs-heading-anchor-permalink" href="#trixi2vtk-dev" title="Permalink"></a></h2><p>Trixi2Vtk has Trixi.jl as dependency and uses Trixi.jl&#39;s implementation to, e.g., load mesh files. When developing Trixi2Vtk, one may want to change functions in Trixi.jl to allow them to be reused in Trixi2Vtk. To use a locally modified Trixi.jl clone instead of a Trixi.jl release, one can tell Pkg to use the local source code of Trixi.jl instead of a registered version by running</p><pre><code class="language-julia-repl hljs">(@v1.9) pkg&gt; develop path/to/Trixi.jl</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../conventions/">« Conventions</a><a class="docs-footer-nextpage" href="../github-git/">GitHub &amp; Git »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Friday 23 February 2024 14:12">Friday 23 February 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
